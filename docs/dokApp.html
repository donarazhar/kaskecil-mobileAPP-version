<!DOCTYPE html>
<html lang="id" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kaskecil Server Deployment Guide</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Fira+Code:wght@400;500&display=swap"
        rel="stylesheet">
    <!-- Mermaid JS -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({ startOnLoad: true, theme: 'default', securityLevel: 'loose' });</script>
    <!-- Alpine.js -->
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>

    <style>
        body {
            font-family: 'Inter', sans-serif;
        }

        code,
        pre {
            font-family: 'Fira Code', monospace;
        }

        .sidebar-link.active {
            background-color: #2563eb;
            color: white;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }

        ::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }
    </style>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#0f172a',
                        secondary: '#334155',
                        accent: '#2563eb',
                    }
                }
            }
        }
    </script>
</head>

<body class="bg-slate-50 text-slate-800" x-data="{ activeSection: 'intro' }">

    <!-- Header -->
    <header class="fixed top-0 w-full bg-white/90 backdrop-blur-md border-b border-slate-200 z-50 shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
            <div class="flex items-center gap-3">
                <div class="w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center text-white font-bold">K
                </div>
                <h1 class="text-xl font-bold text-slate-900 tracking-tight">Kaskecil <span
                        class="text-slate-500 font-normal">Deployment Docs</span></h1>
            </div>
            <div class="text-sm text-slate-500 hidden sm:block">Updated: January 2026</div>
        </div>
    </header>

    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-24 pb-12 flex gap-8">

        <!-- Sidebar Navigation -->
        <aside class="hidden lg:block w-64 fixed h-[calc(100vh-6rem)] overflow-y-auto pr-4 border-r border-slate-200">
            <nav class="space-y-1">
                <p class="px-3 text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2 mt-4">Application
                    Overview</p>
                <a href="#overview" @click="activeSection = 'overview'"
                    :class="{ 'bg-blue-50 text-blue-700 border-l-4 border-blue-600': activeSection === 'overview' }"
                    class="block px-3 py-2 text-sm font-medium text-slate-700 rounded-r-md hover:bg-slate-100 transition-colors">Overview</a>
                <a href="#erd" @click="activeSection = 'erd'"
                    :class="{ 'bg-blue-50 text-blue-700 border-l-4 border-blue-600': activeSection === 'erd' }"
                    class="block px-3 py-2 text-sm font-medium text-slate-700 rounded-r-md hover:bg-slate-100 transition-colors">ERD
                    & Database</a>
                <a href="#roles" @click="activeSection = 'roles'"
                    :class="{ 'bg-blue-50 text-blue-700 border-l-4 border-blue-600': activeSection === 'roles' }"
                    class="block px-3 py-2 text-sm font-medium text-slate-700 rounded-r-md hover:bg-slate-100 transition-colors">User
                    Roles</a>
                <a href="#workflow" @click="activeSection = 'workflow'"
                    :class="{ 'bg-blue-50 text-blue-700 border-l-4 border-blue-600': activeSection === 'workflow' }"
                    class="block px-3 py-2 text-sm font-medium text-slate-700 rounded-r-md hover:bg-slate-100 transition-colors">Business
                    Workflow</a>
                <a href="#features" @click="activeSection = 'features'"
                    :class="{ 'bg-blue-50 text-blue-700 border-l-4 border-blue-600': activeSection === 'features' }"
                    class="block px-3 py-2 text-sm font-medium text-slate-700 rounded-r-md hover:bg-slate-100 transition-colors">Key
                    Features</a>
                <a href="#tech" @click="activeSection = 'tech'"
                    :class="{ 'bg-blue-50 text-blue-700 border-l-4 border-blue-600': activeSection === 'tech' }"
                    class="block px-3 py-2 text-sm font-medium text-slate-700 rounded-r-md hover:bg-slate-100 transition-colors">Tech
                    Stack</a>

                <p class="px-3 text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2 mt-6"> Deployment
                    Guide</p>
                <a href="#intro" @click="activeSection = 'intro'"
                    :class="{ 'bg-blue-50 text-blue-700 border-l-4 border-blue-600': activeSection === 'intro' }"
                    class="block px-3 py-2 text-sm font-medium text-slate-700 rounded-r-md hover:bg-slate-100 transition-colors">Introduction</a>

                <p class="px-3 text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2 mt-6">Phase 1:
                    Infrastructure</p>
                <a href="#proxmox" @click="activeSection = 'proxmox'"
                    :class="{ 'bg-blue-50 text-blue-700 border-l-4 border-blue-600': activeSection === 'proxmox' }"
                    class="block px-3 py-2 text-sm font-medium text-slate-700 rounded-r-md hover:bg-slate-100 transition-colors">Proxmox
                    LXC Setup</a>

                <p class="px-3 text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2 mt-6">Phase 2: Stack
                    Installation</p>
                <a href="#basics" @click="activeSection = 'basics'"
                    :class="{ 'bg-blue-50 text-blue-700 border-l-4 border-blue-600': activeSection === 'basics' }"
                    class="block px-3 py-2 text-sm font-medium text-slate-700 rounded-r-md hover:bg-slate-100 transition-colors">Basic
                    Tools</a>
                <a href="#lemp" @click="activeSection = 'lemp'"
                    :class="{ 'bg-blue-50 text-blue-700 border-l-4 border-blue-600': activeSection === 'lemp' }"
                    class="block px-3 py-2 text-sm font-medium text-slate-700 rounded-r-md hover:bg-slate-100 transition-colors">LEMP
                    Stack</a>
                <a href="#composer" @click="activeSection = 'composer'"
                    :class="{ 'bg-blue-50 text-blue-700 border-l-4 border-blue-600': activeSection === 'composer' }"
                    class="block px-3 py-2 text-sm font-medium text-slate-700 rounded-r-md hover:bg-slate-100 transition-colors">Composer</a>

                <p class="px-3 text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2 mt-6">Phase 3:
                    Application</p>
                <a href="#deploy" @click="activeSection = 'deploy'"
                    :class="{ 'bg-blue-50 text-blue-700 border-l-4 border-blue-600': activeSection === 'deploy' }"
                    class="block px-3 py-2 text-sm font-medium text-slate-700 rounded-r-md hover:bg-slate-100 transition-colors">Clone
                    & Install</a>
                <a href="#config" @click="activeSection = 'config'"
                    :class="{ 'bg-blue-50 text-blue-700 border-l-4 border-blue-600': activeSection === 'config' }"
                    class="block px-3 py-2 text-sm font-medium text-slate-700 rounded-r-md hover:bg-slate-100 transition-colors">Configuration</a>

                <p class="px-3 text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2 mt-6">Phase 4: Server
                    Config</p>
                <a href="#nginx" @click="activeSection = 'nginx'"
                    :class="{ 'bg-blue-50 text-blue-700 border-l-4 border-blue-600': activeSection === 'nginx' }"
                    class="block px-3 py-2 text-sm font-medium text-slate-700 rounded-r-md hover:bg-slate-100 transition-colors">Nginx
                    & SSL</a>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="lg:pl-72 w-full space-y-16">

            <!-- Overview Section (Combined Hero & Hierarchy) -->
            <section id="overview" class="scroll-mt-28" x-intersect="activeSection = 'overview'">
                <div class="bg-indigo-900 rounded-2xl shadow-xl overflow-hidden mb-8 text-white relative">
                    <div
                        class="absolute inset-0 bg-gradient-to-br from-indigo-900 via-blue-900 to-slate-900 opacity-90">
                    </div>
                    <div class="relative p-10 text-center">
                        <div
                            class="inline-block bg-indigo-800 text-indigo-200 text-xs font-bold px-3 py-1 rounded-full mb-4 uppercase tracking-wide">
                            Official Documentation</div>
                        <h1 class="text-4xl md:text-5xl font-bold mb-4">Kas Kecil Imprest App <span
                                class="text-indigo-400 font-light">v4.0</span></h1>
                        <p class="text-indigo-200 text-lg max-w-2xl mx-auto leading-relaxed">Sistem pengelolaan kas
                            kecil berbasis metode <strong>Imprest (Dana Tetap)</strong> dengan support multi-platform
                            dan hierarki organisasi yang dinamis.</p>

                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-10 max-w-4xl mx-auto text-left">
                            <div class="bg-white/10 backdrop-blur-sm p-4 rounded-xl border border-white/10">
                                <div class="text-3xl font-bold mb-1">10+</div>
                                <div class="text-indigo-300 text-sm font-medium uppercase">Database Tables</div>
                            </div>
                            <div class="bg-white/10 backdrop-blur-sm p-4 rounded-xl border border-white/10">
                                <div class="text-3xl font-bold mb-1">2</div>
                                <div class="text-indigo-300 text-sm font-medium uppercase">Primary Roles</div>
                            </div>
                            <div class="bg-white/10 backdrop-blur-sm p-4 rounded-xl border border-white/10">
                                <div class="text-3xl font-bold mb-1">3</div>
                                <div class="text-indigo-300 text-sm font-medium uppercase">Platforms (Web, iOS, Android)
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="bg-white rounded-2xl shadow-sm border border-slate-200 p-8">
                    <h3 class="text-2xl font-bold text-slate-900 mb-6">Struktur Hierarki Organisasi</h3>
                    <div class="flex flex-col items-center gap-6 py-4">
                        <!-- Level 1 -->
                        <div
                            class="bg-slate-50 border-2 border-slate-200 p-4 rounded-xl text-center w-64 shadow-sm hover:border-blue-500 hover:shadow-md transition-all">
                            <div class="text-3xl mb-2">üèõÔ∏è</div>
                            <h4 class="font-bold text-slate-900">Instansi</h4>
                            <p class="text-sm text-slate-500">Organisasi Induk</p>
                            <div class="text-xs text-slate-400 mt-1 italic">ex: YPI Al Azhar</div>
                        </div>
                        <div class="h-8 w-0.5 bg-slate-300"></div>
                        <!-- Level 2 -->
                        <div class="grid grid-cols-2 gap-8 w-full max-w-2xl">
                            <div
                                class="bg-slate-50 border border-slate-200 p-4 rounded-xl text-center shadow-sm relative hover:border-blue-400 transition-all">
                                <div
                                    class="absolute -top-3 left-1/2 -translate-x-1/2 w-3 h-3 bg-slate-300 rounded-full">
                                </div>
                                <div class="text-2xl mb-2">üè¢</div>
                                <h4 class="font-bold text-slate-800">Cabang</h4>
                                <p class="text-xs text-slate-500">Regional Office</p>
                            </div>
                            <div
                                class="bg-slate-50 border border-slate-200 p-4 rounded-xl text-center shadow-sm relative hover:border-blue-400 transition-all">
                                <div
                                    class="absolute -top-3 left-1/2 -translate-x-1/2 w-3 h-3 bg-slate-300 rounded-full">
                                </div>
                                <div class="text-2xl mb-2">üè¢</div>
                                <h4 class="font-bold text-slate-800">Cabang</h4>
                                <p class="text-xs text-slate-500">Regional Office</p>
                            </div>
                        </div>
                        <div class="h-8 w-0.5 bg-slate-300"></div>
                        <!-- Level 3 -->
                        <div class="grid grid-cols-4 gap-4 w-full">
                            <div
                                class="bg-white border border-slate-200 p-3 rounded-lg text-center text-sm shadow-sm hover:border-blue-300 hover:bg-blue-50">
                                <div>üìã</div>
                                <div class="font-semibold text-slate-700">Unit Keuangan</div>
                            </div>
                            <div
                                class="bg-white border border-slate-200 p-3 rounded-lg text-center text-sm shadow-sm hover:border-blue-300 hover:bg-blue-50">
                                <div>üìã</div>
                                <div class="font-semibold text-slate-700">Unit SDM</div>
                            </div>
                            <div
                                class="bg-white border border-slate-200 p-3 rounded-lg text-center text-sm shadow-sm hover:border-blue-300 hover:bg-blue-50">
                                <div>üìã</div>
                                <div class="font-semibold text-slate-700">Unit IT</div>
                            </div>
                            <div
                                class="bg-white border border-slate-200 p-3 rounded-lg text-center text-sm shadow-sm hover:border-blue-300 hover:bg-blue-50">
                                <div>üìã</div>
                                <div class="font-semibold text-slate-700">Unit Lainnya</div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- ERD Section -->
            <section id="erd" class="scroll-mt-28" x-intersect="activeSection = 'erd'">
                <div class="bg-slate-900 rounded-2xl shadow-xl overflow-hidden border border-slate-700">
                    <div class="p-6 border-b border-slate-700 flex justify-between items-center bg-slate-800/50">
                        <div>
                            <h3 class="text-xl font-bold text-white">Entity Relationship Diagram (ERD)</h3>
                            <p class="text-slate-400 text-sm">Database Schema & Relationships</p>
                        </div>
                        <span class="bg-slate-700 text-slate-300 text-xs py-1 px-3 rounded-full">PostgreSQL</span>
                    </div>
                    <div class="p-8 overflow-x-auto bg-[#0d1117]">
                        <pre class="mermaid text-center">
%%{init: {'theme': 'dark', 'themeVariables': { 'primaryColor': '#6366f1', 'primaryTextColor': '#f9fafb', 'lineColor': '#818cf8', 'mainBkg': '#1e293b'}}}%%
flowchart LR
    subgraph ORG["üèõÔ∏è ORGANISASI"]
        direction TB
        INSTANSI["<b>INSTANSI</b><br/>id, nama_instansi<br/>alamat, telepon"]
        CABANG["<b>CABANG</b><br/>id, instansi_id<br/>kode, nama_cabang"]
        UNIT["<b>UNIT</b><br/>id, cabang_id<br/>kode, nama_unit<br/>plafon_kas"]
    end

    subgraph AUTH["üîê AUTENTIKASI"]
        direction TB
        ROLES["<b>ROLES</b><br/>id, name"]
        USERS["<b>USERS</b><br/>id, nama, email<br/>role_id, unit_id"]
    end

    subgraph TRX["üíµ TRANSAKSI"]
        direction TB
        TRANSAKSI["<b>TRANSAKSI</b><br/>id, unit_id<br/>tanggal, jumlah<br/>status"]
        TRX_SHADOW["<b>TRX_SHADOW</b><br/>id, unit_id<br/>status_approval"]
    end
    
    subgraph AKUN["üìä AKUNTANSI"]
        AKUN_AAS["<b>AKUN_AAS</b>"]
        AKUN_MA["<b>MATA_ANGGARAN</b>"]
    end

    INSTANSI --> CABANG
    CABANG --> UNIT
    UNIT --> USERS
    ROLES --> USERS
    UNIT --> TRANSAKSI
    USERS --> TRANSAKSI
    UNIT --> AKUN_AAS
    AKUN_AAS --> AKUN_MA
                        </pre>
                    </div>
                </div>
            </section>

            <!-- Roles Section -->
            <section id="roles" class="scroll-mt-28" x-intersect="activeSection = 'roles'">
                <h3 class="text-2xl font-bold text-slate-900 mb-6 flex items-center gap-2">
                    <span>üîê</span> Role-Based Access Control
                </h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- Super Admin -->
                    <div
                        class="bg-white rounded-xl shadow-sm border border-slate-200 p-6 relative overflow-hidden group hover:border-blue-400 transition-colors">
                        <div
                            class="absolute top-0 right-0 bg-blue-600 text-white text-xs font-bold px-3 py-1 rounded-bl-lg">
                            Highest Privilege</div>
                        <div
                            class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center text-2xl mb-4 group-hover:scale-110 transition-transform">
                            üîë</div>
                        <h4 class="text-xl font-bold text-slate-900 mb-2">Super Admin</h4>
                        <p class="text-slate-600 mb-4 text-sm">Full access to system configuration, organizational
                            structure, and global financial oversight.</p>
                        <ul class="space-y-2">
                            <li class="flex items-center gap-2 text-sm text-slate-700">
                                <svg class="w-4 h-4 text-green-500" fill="none" stroke="currentColor"
                                    viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M5 13l4 4L19 7"></path>
                                </svg>
                                Manage Instansi, Cabang & Unit
                            </li>
                            <li class="flex items-center gap-2 text-sm text-slate-700">
                                <svg class="w-4 h-4 text-green-500" fill="none" stroke="currentColor"
                                    viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M5 13l4 4L19 7"></path>
                                </svg>
                                Set Plafon Kas (Kas Formation)
                            </li>
                            <li class="flex items-center gap-2 text-sm text-slate-700">
                                <svg class="w-4 h-4 text-green-500" fill="none" stroke="currentColor"
                                    viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M5 13l4 4L19 7"></path>
                                </svg>
                                Consolidated Reporting
                            </li>
                        </ul>
                    </div>

                    <!-- Admin Unit -->
                    <div
                        class="bg-white rounded-xl shadow-sm border border-slate-200 p-6 relative overflow-hidden group hover:border-emerald-400 transition-colors">
                        <div
                            class="absolute top-0 right-0 bg-emerald-500 text-white text-xs font-bold px-3 py-1 rounded-bl-lg">
                            Operational</div>
                        <div
                            class="w-12 h-12 bg-emerald-100 rounded-lg flex items-center justify-center text-2xl mb-4 group-hover:scale-110 transition-transform">
                            üìã</div>
                        <h4 class="text-xl font-bold text-slate-900 mb-2">Admin Unit</h4>
                        <p class="text-slate-600 mb-4 text-sm">Operational access limited to their specific Unit.
                            Manages daily transactions and budget items.</p>
                        <ul class="space-y-2">
                            <li class="flex items-center gap-2 text-sm text-slate-700">
                                <svg class="w-4 h-4 text-green-500" fill="none" stroke="currentColor"
                                    viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M5 13l4 4L19 7"></path>
                                </svg>
                                Manage Akun AAS & Mata Anggaran
                            </li>
                            <li class="flex items-center gap-2 text-sm text-slate-700">
                                <svg class="w-4 h-4 text-green-500" fill="none" stroke="currentColor"
                                    viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M5 13l4 4L19 7"></path>
                                </svg>
                                Input Transactions (Imprest)
                            </li>
                            <li class="flex items-center gap-2 text-sm text-slate-700">
                                <svg class="w-4 h-4 text-green-500" fill="none" stroke="currentColor"
                                    viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M5 13l4 4L19 7"></path>
                                </svg>
                                Print Unit Reports
                            </li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Workflow Section (Tabs) -->
            <section id="workflow" class="scroll-mt-28" x-intersect="activeSection = 'workflow'"
                x-data="{ tab: 'superadmin' }">
                <h3 class="text-2xl font-bold text-slate-900 mb-6 flex items-center gap-2">
                    <span>üîÑ</span> Business Workflow
                </h3>

                <!-- Tab Headers -->
                <div class="flex gap-2 p-1 bg-slate-100 rounded-lg mb-8 w-fit">
                    <button @click="tab = 'superadmin'"
                        :class="{ 'bg-white text-blue-600 shadow-sm': tab === 'superadmin', 'text-slate-500 hover:text-slate-700': tab !== 'superadmin' }"
                        class="px-6 py-2.5 rounded-md text-sm font-semibold transition-all flex items-center gap-2">
                        <span>üîë</span> Super Admin
                    </button>
                    <button @click="tab = 'adminunit'"
                        :class="{ 'bg-white text-emerald-600 shadow-sm': tab === 'adminunit', 'text-slate-500 hover:text-slate-700': tab !== 'adminunit' }"
                        class="px-6 py-2.5 rounded-md text-sm font-semibold transition-all flex items-center gap-2">
                        <span>üìã</span> Admin Unit
                    </button>
                </div>

                <!-- Tab Content: Super Admin -->
                <div x-show="tab === 'superadmin'" x-transition:enter="transition ease-out duration-300"
                    x-transition:enter-start="opacity-0 translate-y-2"
                    x-transition:enter-end="opacity-100 translate-y-0" class="space-y-8">

                    <!-- Flow 1 -->
                    <div class="relative pl-8 border-l-2 border-blue-200 space-y-8">
                        <div class="relative">
                            <div
                                class="absolute -left-[39px] bg-blue-100 p-1.5 rounded-full border-4 border-white shadow-sm">
                                <div class="w-3 h-3 bg-blue-600 rounded-full"></div>
                            </div>
                            <h4 class="font-bold text-slate-900 mb-2">1. Setup Organisasi</h4>
                            <div class="flex flex-wrap gap-4 items-center text-sm text-slate-600">
                                <span class="bg-slate-50 px-3 py-1 rounded border border-slate-200">Login</span>
                                <span class="text-slate-300">‚ûú</span>
                                <span class="bg-slate-50 px-3 py-1 rounded border border-slate-200">Buat Instansi</span>
                                <span class="text-slate-300">‚ûú</span>
                                <span class="bg-slate-50 px-3 py-1 rounded border border-slate-200">Buat Cabang</span>
                                <span class="text-slate-300">‚ûú</span>
                                <span
                                    class="bg-green-50 text-green-700 px-3 py-1 rounded border border-green-200 font-medium">Buat
                                    Unit + Plafon Kas</span>
                            </div>
                        </div>

                        <div class="relative">
                            <div
                                class="absolute -left-[39px] bg-blue-100 p-1.5 rounded-full border-4 border-white shadow-sm">
                                <div class="w-3 h-3 bg-blue-600 rounded-full"></div>
                            </div>
                            <h4 class="font-bold text-slate-900 mb-2">2. Manajemen Pengguna</h4>
                            <div class="flex flex-wrap gap-4 items-center text-sm text-slate-600">
                                <span class="bg-slate-50 px-3 py-1 rounded border border-slate-200">Add User</span>
                                <span class="text-slate-300">‚ûú</span>
                                <span class="bg-slate-50 px-3 py-1 rounded border border-slate-200">Assign Role</span>
                                <span class="text-slate-300">‚ûú</span>
                                <span
                                    class="bg-green-50 text-green-700 px-3 py-1 rounded border border-green-200 font-medium">Assign
                                    Unit</span>
                            </div>
                        </div>
                    </div>

                    <div class="bg-blue-50 border border-blue-100 rounded-lg p-4 flex gap-4 items-start">
                        <div class="text-xl">üí°</div>
                        <div>
                            <h5 class="font-bold text-blue-900 text-sm">Konsep Pembentukan Kas</h5>
                            <p class="text-blue-700 text-sm mt-1">Super Admin mengatur <strong>Plafon Kas</strong> per
                                unit. Ini menjadi dasar saldo awal (Modal Kerja) untuk setiap unit dalam metode Imprest.
                            </p>
                        </div>
                    </div>

                </div>

                <!-- Tab Content: Admin Unit -->
                <div x-show="tab === 'adminunit'" x-transition:enter="transition ease-out duration-300"
                    x-transition:enter-start="opacity-0 translate-y-2"
                    x-transition:enter-end="opacity-100 translate-y-0" class="space-y-8" style="display: none;">

                    <!-- Flow 1 -->
                    <div class="relative pl-8 border-l-2 border-emerald-200 space-y-8">
                        <div class="relative">
                            <div
                                class="absolute -left-[39px] bg-emerald-100 p-1.5 rounded-full border-4 border-white shadow-sm">
                                <div class="w-3 h-3 bg-emerald-600 rounded-full"></div>
                            </div>
                            <h4 class="font-bold text-slate-900 mb-2">1. Setup Master Data</h4>
                            <div class="flex flex-wrap gap-4 items-center text-sm text-slate-600">
                                <span class="bg-slate-50 px-3 py-1 rounded border border-slate-200">Kelola Akun AAS
                                    (Debet/Kredit)</span>
                                <span class="text-slate-300">‚ûú</span>
                                <span
                                    class="bg-green-50 text-green-700 px-3 py-1 rounded border border-green-200 font-medium">Kelola
                                    Mata Anggaran + Saldo</span>
                            </div>
                        </div>

                        <div class="relative">
                            <div
                                class="absolute -left-[39px] bg-emerald-100 p-1.5 rounded-full border-4 border-white shadow-sm">
                                <div class="w-3 h-3 bg-emerald-600 rounded-full"></div>
                            </div>
                            <h4 class="font-bold text-slate-900 mb-2">2. Transaksi (Pengeluaran)</h4>
                            <div class="flex flex-wrap gap-4 items-center text-sm text-slate-600">
                                <span class="bg-slate-50 px-3 py-1 rounded border border-slate-200">Input
                                    Transaksi</span>
                                <span class="text-slate-300">‚ûú</span>
                                <span class="bg-slate-50 px-3 py-1 rounded border border-slate-200">Pilih Mata
                                    Anggaran</span>
                                <span class="text-slate-300">‚ûú</span>
                                <span class="bg-slate-50 px-3 py-1 rounded border border-slate-200">Upload Bukti</span>
                                <span class="text-slate-300">‚ûú</span>
                                <span
                                    class="bg-green-50 text-green-700 px-3 py-1 rounded border border-green-200 font-medium">Saldo
                                    Berkurang</span>
                            </div>
                        </div>
                    </div>

                    <div class="bg-emerald-50 border border-emerald-100 rounded-lg p-4 flex gap-4 items-start">
                        <div class="text-xl">üí°</div>
                        <div>
                            <h5 class="font-bold text-emerald-900 text-sm">Metode Imprest</h5>
                            <p class="text-emerald-700 text-sm mt-1">Setiap transaksi pengeluaran akan langsung
                                mengurangi saldo Mata Anggaran terkait. Pengisian kas akan mengembalikan saldo ke
                                Plafon.</p>
                        </div>
                    </div>
                </div>

            </section>

            <!-- Features Grid -->
            <section id="features" class="scroll-mt-28" x-intersect="activeSection = 'features'">
                <h3 class="text-2xl font-bold text-slate-900 mb-6">Key Features</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <div
                        class="bg-white p-6 rounded-xl border border-slate-200 shadow-sm hover:shadow-md transition-shadow">
                        <div class="text-3xl mb-3">üè¢</div>
                        <h4 class="font-bold text-slate-900">Organization Mgmt</h4>
                        <p class="text-sm text-slate-600 mt-2">Full CRUD for Instansi, Cabang, and Units with hierarchy.
                        </p>
                    </div>
                    <div
                        class="bg-white p-6 rounded-xl border border-slate-200 shadow-sm hover:shadow-md transition-shadow">
                        <div class="text-3xl mb-3">üí∞</div>
                        <h4 class="font-bold text-slate-900">Imprest System</h4>
                        <p class="text-sm text-slate-600 mt-2">Automated saldo tracking with fixed funds (Dana Tetap)
                            logic.</p>
                    </div>
                    <div
                        class="bg-white p-6 rounded-xl border border-slate-200 shadow-sm hover:shadow-md transition-shadow">
                        <div class="text-3xl mb-3">‚öñÔ∏è</div>
                        <h4 class="font-bold text-slate-900">Draft & Approval</h4>
                        <p class="text-sm text-slate-600 mt-2">Shadow transactions for reviewing before final posting.
                        </p>
                    </div>
                    <div
                        class="bg-white p-6 rounded-xl border border-slate-200 shadow-sm hover:shadow-md transition-shadow">
                        <div class="text-3xl mb-3">üßæ</div>
                        <h4 class="font-bold text-slate-900">Attachments</h4>
                        <p class="text-sm text-slate-600 mt-2">Upload multiple proofs/receipts for every transaction.
                        </p>
                    </div>
                    <div
                        class="bg-white p-6 rounded-xl border border-slate-200 shadow-sm hover:shadow-md transition-shadow">
                        <div class="text-3xl mb-3">üì±</div>
                        <h4 class="font-bold text-slate-900">Mobile Support</h4>
                        <p class="text-sm text-slate-600 mt-2">Fully reactive API supporting both Web and Mobile apps.
                        </p>
                    </div>
                    <div
                        class="bg-white p-6 rounded-xl border border-slate-200 shadow-sm hover:shadow-md transition-shadow">
                        <div class="text-3xl mb-3">üåç</div>
                        <h4 class="font-bold text-slate-900">Multi-language</h4>
                        <p class="text-sm text-slate-600 mt-2">Indonesia, English, and Arabic (RTL) support built-in.
                        </p>
                    </div>
                </div>
            </section>

            <!-- Tech Stack -->
            <section id="tech" class="scroll-mt-28" x-intersect="activeSection = 'tech'">
                <div class="bg-slate-900 text-white rounded-2xl p-8 relative overflow-hidden">
                    <div class="absolute top-0 right-0 p-32 bg-blue-600 rounded-full blur-3xl opacity-20 -mr-16 -mt-16">
                    </div>
                    <h3 class="text-2xl font-bold mb-6 relative z-10">Technology Stack</h3>
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-6 relative z-10">
                        <!-- Tech Item -->
                        <div class="bg-slate-800/50 p-4 rounded-xl border border-slate-700 text-center">
                            <div class="text-3xl mb-2">‚öôÔ∏è</div>
                            <div class="font-bold text-blue-200">Laravel 12</div>
                            <div class="text-xs text-slate-400">Backend API</div>
                        </div>
                        <div class="bg-slate-800/50 p-4 rounded-xl border border-slate-700 text-center">
                            <div class="text-3xl mb-2">üåê</div>
                            <div class="font-bold text-blue-200">React + Vite</div>
                            <div class="text-xs text-slate-400">Web Dashboard</div>
                        </div>
                        <div class="bg-slate-800/50 p-4 rounded-xl border border-slate-700 text-center">
                            <div class="text-3xl mb-2">üì±</div>
                            <div class="font-bold text-blue-200">React Native</div>
                            <div class="text-xs text-slate-400">Mobile (Expo)</div>
                        </div>
                        <div class="bg-slate-800/50 p-4 rounded-xl border border-slate-700 text-center">
                            <div class="text-3xl mb-2">üóÉÔ∏è</div>
                            <div class="font-bold text-blue-200">PostgreSQL</div>
                            <div class="text-xs text-slate-400">Database</div>
                        </div>
                    </div>
                </div>
            </section>

            <hr class="border-slate-200 my-10" />

            <!-- Intro Section (Original) -->
            <section id="intro" class="scroll-mt-28" x-intersect="activeSection = 'intro'">
                <div class="bg-white rounded-2xl shadow-sm border border-slate-200 p-8">
                    <h2 class="text-3xl font-bold text-slate-900 mb-4">Manual Deployment Kaskecil</h2>
                    <p class="text-lg text-slate-600 leading-relaxed">
                        Panduan lengkap ini mencakup seluruh proses deployment aplikasi Kaskecil pada server Proxmox
                        menggunakan LXC Container dengan OS Ubuntu 24.04.
                    </p>
                    <div class="mt-6 flex gap-4">
                        <div class="bg-blue-50 text-blue-700 px-4 py-3 rounded-lg text-sm font-medium w-full sm:w-auto">
                            <strong>Target Server:</strong> LXC CT 105
                        </div>
                        <div
                            class="bg-green-50 text-green-700 px-4 py-3 rounded-lg text-sm font-medium w-full sm:w-auto">
                            <strong>IP Address:</strong> 192.168.13.75
                        </div>
                    </div>
                </div>
            </section>

            <!-- Phase 1: Proxmox -->
            <section id="proxmox" class="scroll-mt-28" x-intersect="activeSection = 'proxmox'">
                <h3 class="text-2xl font-bold text-slate-900 mb-6 flex items-center gap-3">
                    <span
                        class="w-8 h-8 rounded-full bg-slate-900 text-white flex items-center justify-center text-sm">1</span>
                    Proxmox LXC Setup
                </h3>

                <div class="space-y-6">
                    <div class="bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden">
                        <div class="p-6 border-b border-slate-100 bg-slate-50/50">
                            <h4 class="font-semibold text-slate-800">1. Login & Template</h4>
                        </div>
                        <div class="p-6 space-y-4">
                            <ul class="list-disc list-inside space-y-2 text-slate-600">
                                <li>Akses Proxmox: <a href="https://192.168.13.69:8006" target="_blank"
                                        class="text-blue-600 hover:underline">https://192.168.13.69:8006</a></li>
                                <li>Download Template: <strong>ubuntu-24.04-standard</strong> via <em>local (alazhar) ->
                                        CT Templates</em></li>
                            </ul>
                        </div>
                    </div>

                    <div class="bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden">
                        <div class="p-6 border-b border-slate-100 bg-slate-50/50">
                            <h4 class="font-semibold text-slate-800">2. Container Configuration</h4>
                        </div>
                        <div class="p-6">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
                                <div class="bg-slate-50 p-3 rounded border border-slate-100">
                                    <div class="text-slate-500 text-xs uppercase tracking-wide mb-1">Hostname</div>
                                    <div class="font-mono font-medium">kaskecil-server</div>
                                </div>
                                <div class="bg-slate-50 p-3 rounded border border-slate-100">
                                    <div class="text-slate-500 text-xs uppercase tracking-wide mb-1">Resources</div>
                                    <div class="font-mono font-medium">2 Cores / 2GB RAM / 20GB HDD</div>
                                </div>
                                <div class="bg-slate-50 p-3 rounded border border-slate-100">
                                    <div class="text-slate-500 text-xs uppercase tracking-wide mb-1">Network (Static)
                                    </div>
                                    <div class="font-mono font-medium text-green-600">IP: 192.168.13.75/24</div>
                                </div>
                                <div class="bg-slate-50 p-3 rounded border border-slate-100">
                                    <div class="text-slate-500 text-xs uppercase tracking-wide mb-1">Gateway</div>
                                    <div class="font-mono font-medium">192.168.13.1</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Phase 2: Stack -->
            <section id="basics" class="scroll-mt-28" x-intersect="activeSection = 'basics'">
                <h3 class="text-2xl font-bold text-slate-900 mb-6 flex items-center gap-3">
                    <span
                        class="w-8 h-8 rounded-full bg-slate-900 text-white flex items-center justify-center text-sm">2</span>
                    Install Software Stack
                </h3>

                <!-- Snippet: Update -->
                <div class="bg-slate-900 rounded-xl overflow-hidden shadow-lg mb-6">
                    <div class="flex items-center justify-between px-4 py-2 bg-slate-800 border-b border-slate-700">
                        <span class="text-xs text-slate-400 font-mono">Terminal (Root)</span>
                        <button class="text-xs text-blue-400 hover:text-blue-300"
                            onclick="copyToClipboard(this)">Copy</button>
                    </div>
                    <pre class="p-4 text-sm text-slate-300 overflow-x-auto"><code class="language-bash">apt update && apt upgrade -y
apt install -y curl git unzip nano zip</code></pre>
                </div>
            </section>

            <section id="lemp" class="scroll-mt-28" x-intersect="activeSection = 'lemp'">
                <div class="bg-white rounded-xl shadow-sm border border-slate-200 mb-6">
                    <div class="p-6 border-b border-slate-100">
                        <h4 class="text-lg font-bold">Install Nginx, PHP 8.2 & PostgreSQL</h4>
                    </div>
                    <div class="p-6 space-y-4">
                        <div class="bg-slate-900 rounded-lg overflow-hidden">
                            <div
                                class="flex items-center justify-between px-4 py-2 bg-slate-800 border-b border-slate-700">
                                <span class="text-xs text-slate-400">Install Commands</span>
                                <button class="text-xs text-blue-400 hover:text-blue-300"
                                    onclick="copyToClipboard(this)">Copy</button>
                            </div>
                            <pre class="p-4 text-sm text-slate-300 overflow-x-auto"><code># 1. Nginx
apt install -y nginx && systemctl enable nginx

# 2. PHP 8.2 (Add PPA first)
apt install -y software-properties-common
add-apt-repository ppa:ondrej/php -y && apt update
apt install -y php8.2-fpm php8.2-cli php8.2-common php8.2-pgsql \
php8.2-zip php8.2-gd php8.2-mbstring php8.2-curl php8.2-xml php8.2-bcmath

# 3. PostgreSQL
apt install -y postgresql postgresql-contrib
systemctl start postgresql</code></pre>
                        </div>

                        <div class="bg-amber-50 border-l-4 border-amber-500 p-4">
                            <div class="flex">
                                <div class="ml-3">
                                    <p class="text-sm text-amber-700 font-bold">
                                        Setup Database Manual
                                    </p>
                                    <p class="text-sm text-amber-600 mt-1">
                                        Jangan lupa membuat database dan user:
                                    </p>
                                    <code
                                        class="block mt-2 bg-white px-2 py-1 rounded border border-amber-200 text-xs font-mono text-slate-600">
                                        sudo -u postgres psql<br>
                                        CREATE DATABASE kaskecil;<br>
                                        CREATE USER kaskecil WITH PASSWORD 'password_rahasia';<br>
                                        GRANT ALL PRIVILEGES ON DATABASE kaskecil TO kaskecil;<br>
                                        \q
                                    </code>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="composer" class="scroll-mt-28" x-intersect="activeSection = 'composer'">
                <div class="bg-slate-900 rounded-xl overflow-hidden shadow-lg">
                    <div class="flex items-center justify-between px-4 py-2 bg-slate-800 border-b border-slate-700">
                        <span class="text-xs text-slate-400 font-mono">Install Composer</span>
                        <button class="text-xs text-blue-400 hover:text-blue-300"
                            onclick="copyToClipboard(this)">Copy</button>
                    </div>
                    <pre class="p-4 text-sm text-slate-300 overflow-x-auto"><code>curl -sS https://getcomposer.org/installer | php
mv composer.phar /usr/local/bin/composer</code></pre>
                </div>
            </section>

            <!-- Phase 3: Deployment -->
            <section id="deploy" class="scroll-mt-28" x-intersect="activeSection = 'deploy'">
                <h3 class="text-2xl font-bold text-slate-900 mb-6 flex items-center gap-3">
                    <span
                        class="w-8 h-8 rounded-full bg-slate-900 text-white flex items-center justify-center text-sm">3</span>
                    Deploy Application
                </h3>

                <div class="space-y-4">
                    <p class="text-slate-600">Clone repository ke folder <code>/var/www</code>.</p>
                    <div class="bg-slate-900 rounded-xl overflow-hidden shadow-lg">
                        <div class="flex items-center justify-between px-4 py-2 bg-slate-800 border-b border-slate-700">
                            <span class="text-xs text-slate-400 font-mono">Git Clone & Install</span>
                            <button class="text-xs text-blue-400 hover:text-blue-300"
                                onclick="copyToClipboard(this)">Copy</button>
                        </div>
                        <pre class="p-4 text-sm text-slate-300 overflow-x-auto"><code>cd /var/www
git clone https://YOUR_TOKEN@github.com/donarazhar/kaskecil-mobileAPP-version.git kaskecil
cd kaskecil

# Copy ENV
cp .env.example .env

# Install Dependencies
composer install --optimize-autoloader --no-dev</code></pre>
                    </div>
                </div>
            </section>

            <section id="config" class="scroll-mt-28" x-intersect="activeSection = 'config'">
                <h4 class="text-lg font-bold mb-4">Laravel Configuration</h4>
                <div class="bg-slate-900 rounded-xl overflow-hidden shadow-lg mb-6">
                    <div class="flex items-center justify-between px-4 py-2 bg-slate-800 border-b border-slate-700">
                        <span class="text-xs text-slate-400 font-mono">Artisan Commands</span>
                        <button class="text-xs text-blue-400 hover:text-blue-300"
                            onclick="copyToClipboard(this)">Copy</button>
                    </div>
                    <pre class="p-4 text-sm text-slate-300 overflow-x-auto"><code># 1. Key & Migrations
php artisan key:generate
php artisan migrate --force --seed

# 2. Optimization
php artisan storage:link
php artisan config:cache
php artisan route:cache
php artisan view:cache

# 3. Permissions (Crucial!)
cd /var/www
chown -R www-data:www-data kaskecil
chmod -R 775 kaskecil/storage kaskecil/bootstrap/cache</code></pre>
                </div>
            </section>

            <!-- Phase 4: Nginx -->
            <section id="nginx" class="scroll-mt-28" x-intersect="activeSection = 'nginx'">
                <h3 class="text-2xl font-bold text-slate-900 mb-6 flex items-center gap-3">
                    <span
                        class="w-8 h-8 rounded-full bg-slate-900 text-white flex items-center justify-center text-sm">4</span>
                    Nginx Configuration (Final)
                </h3>

                <p class="text-slate-600 mb-4">Edit file: <code>/etc/nginx/sites-available/kaskecil</code></p>

                <div class="bg-slate-900 rounded-xl overflow-hidden shadow-lg mb-6">
                    <div class="flex items-center justify-between px-4 py-2 bg-slate-800 border-b border-slate-700">
                        <span class="text-xs text-slate-400 font-mono">nginx.conf</span>
                        <button class="text-xs text-blue-400 hover:text-blue-300"
                            onclick="copyToClipboard(this)">Copy</button>
                    </div>
                    <pre class="p-4 text-sm text-slate-300 overflow-x-auto"><code>server {
    listen 80;
    server_name 192.168.13.75;
    root /var/www/kaskecil/public;

    add_header X-Frame-Options "SAMEORIGIN";
    add_header X-Content-Type-Options "nosniff";

    index index.php;
    charset utf-8;

    location / {
        try_files $uri $uri/ /index.php?$query_string;
    }

    location = /favicon.ico { access_log off; log_not_found off; }
    location = /robots.txt  { access_log off; log_not_found off; }

    error_page 404 /index.php;

    location ~ \.php$ {
        fastcgi_pass unix:/var/run/php/php8.2-fpm.sock;
        fastcgi_param SCRIPT_FILENAME $realpath_root$fastcgi_script_name;
        include fastcgi_params;
    }

    location ~ /\.(?!well-known).* {
        deny all;
    }
}</code></pre>
                </div>

                <div class="bg-green-50 rounded-xl p-6 border border-green-200">
                    <h4 class="text-green-800 font-bold mb-2">üöÄ Final Steps</h4>
                    <p class="text-green-700 mb-4">Aktifkan konfigurasi dan restart service:</p>
                    <code
                        class="block bg-white px-4 py-2 rounded border border-green-200 text-sm font-mono text-slate-700">
                        rm /etc/nginx/sites-enabled/default<br>
                        ln -s /etc/nginx/sites-available/kaskecil /etc/nginx/sites-enabled/<br>
                        nginx -t<br>
                        systemctl restart nginx
                    </code>
                    <p class="text-green-800 font-bold mt-4 text-center">
                        üéâ DEPLOYMENT SUCCESSFUL! <br> Access: <a href="http://192.168.13.75" target="_blank"
                            class="underline">http://192.168.13.75</a>
                    </p>
                </div>
            </section>

        </main>
    </div>

    <!-- Script for Copy to Clipboard -->
    <script>
        function copyToClipboard(button) {
            const pre = button.parentElement.nextElementSibling;
            const code = pre.querySelector('code') || pre;
            const text = code.innerText;

            navigator.clipboard.writeText(text).then(() => {
                const originalText = button.innerText;
                button.innerText = 'Copied!';
                button.classList.add('text-green-400');
                setTimeout(() => {
                    button.innerText = originalText;
                    button.classList.remove('text-green-400');
                }, 2000);
            });
        }
    </script>
</body>

</html>